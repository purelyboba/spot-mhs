
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://purelyboba.github.io/spot@mhs/coding-spot/arm-manipulation/">
      
      
        <link rel="prev" href="../spot-vision/">
      
      
        <link rel="next" href="../../open-payload/open-payload/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.32">
    
    
      
        <title>Arm Manipulation - Spot@MHS</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.3cba04c6.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="purple" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#basic-concepts" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Spot@MHS" class="md-header__button md-logo" aria-label="Spot@MHS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Spot@MHS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Arm Manipulation
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="purple" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="purple" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Welcome!

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../spot-fundamentals/spot-fundamentals/" class="md-tabs__link">
          
  
  Spot Fundamentals

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../locomotion-with-controller/locomotion-with-controller/" class="md-tabs__link">
          
  
  Locomotion with Controller

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../coding-spot/" class="md-tabs__link">
          
  
  Coding Spot

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../open-payload/open-payload/" class="md-tabs__link">
          
  
  OpenPayload

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Spot@MHS" class="md-nav__button md-logo" aria-label="Spot@MHS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Spot@MHS
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome!
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Spot Fundamentals
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Spot Fundamentals
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../spot-fundamentals/spot-fundamentals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spot Fundamentals
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../spot-fundamentals/unboxing-spot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Unboxing Spot
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../spot-fundamentals/anatomy-of-spot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Anatomy of Spot
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../spot-fundamentals/power-management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Power Management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../spot-fundamentals/startup-shutdown/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Startup/Shutdown
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../spot-fundamentals/storage-safety/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Storage & Safety
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Locomotion with Controller
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Locomotion with Controller
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../locomotion-with-controller/locomotion-with-controller/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Locomotion with Controller
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../locomotion-with-controller/operational-safety/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Operational Safety
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../locomotion-with-controller/controller-layout/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Controller Layout
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../locomotion-with-controller/self-righting-spot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Self-Righting Spot
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../locomotion-with-controller/posing-spot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Posing Spot
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../locomotion-with-controller/walking-spot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Walking Spot
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../locomotion-with-controller/arm-and-claw/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arm and Claw
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Coding Spot
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Coding Spot
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../coding-spot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Coding Spot
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../spot-coding-basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spot Coding Basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../startup-and-movement/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Startup and Movement
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../spot-vision/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spot Vision
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Arm Manipulation
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Arm Manipulation
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#basic-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Concepts
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stowunstow" class="md-nav__link">
    <span class="md-ellipsis">
      Stow/Unstow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arm-manipulation-controlling-the-joints" class="md-nav__link">
    <span class="md-ellipsis">
      Arm Manipulation - Controlling the Joints
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#claw-opening-and-closing" class="md-nav__link">
    <span class="md-ellipsis">
      Claw - Opening and closing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#claw-types-of-grasping" class="md-nav__link">
    <span class="md-ellipsis">
      Claw - Types of grasping
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#picking-objects-up" class="md-nav__link">
    <span class="md-ellipsis">
      Picking objects up
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-throwing-an-object" class="md-nav__link">
    <span class="md-ellipsis">
      Project - Throwing an object
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-async" class="md-nav__link">
    <span class="md-ellipsis">
      What is async?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercise-follow-fiducial-and-throw-object" class="md-nav__link">
    <span class="md-ellipsis">
      Exercise: Follow fiducial AND throw object
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    OpenPayload
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            OpenPayload
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../open-payload/open-payload/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenPayload
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#basic-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Concepts
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stowunstow" class="md-nav__link">
    <span class="md-ellipsis">
      Stow/Unstow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arm-manipulation-controlling-the-joints" class="md-nav__link">
    <span class="md-ellipsis">
      Arm Manipulation - Controlling the Joints
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#claw-opening-and-closing" class="md-nav__link">
    <span class="md-ellipsis">
      Claw - Opening and closing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#claw-types-of-grasping" class="md-nav__link">
    <span class="md-ellipsis">
      Claw - Types of grasping
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#picking-objects-up" class="md-nav__link">
    <span class="md-ellipsis">
      Picking objects up
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-throwing-an-object" class="md-nav__link">
    <span class="md-ellipsis">
      Project - Throwing an object
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-async" class="md-nav__link">
    <span class="md-ellipsis">
      What is async?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercise-follow-fiducial-and-throw-object" class="md-nav__link">
    <span class="md-ellipsis">
      Exercise: Follow fiducial AND throw object
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Arm Manipulation</h1>

<h2 id="basic-concepts">Basic Concepts</h2>
<p>Before we dive in to any real code, let's go over some basic methods that you should be familiar with.</p>
<p>We still use the basic idea of first generating a RobotCommand and then executing the command with <code>command_client.robot_command</code>.</p>
<p>This section will be focused on controlling Spot's arm and claw attachment with code.</p>
<h2 id="stowunstow">Stow/Unstow</h2>
<p>Let's learn how to stow and unstow the arm. The code is simple:</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">unstow</span> <span class="o">=</span> <span class="n">RobotCommandBuilder</span><span class="o">.</span><span class="n">arm_ready_command</span><span class="p">()</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="n">unstow_command_id</span> <span class="o">=</span> <span class="n">command_client</span><span class="o">.</span><span class="n">robot_command</span><span class="p">(</span><span class="n">unstow</span><span class="p">)</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="n">block_until_arm_arrives</span><span class="p">(</span><span class="n">command_client</span><span class="p">,</span> <span class="n">unstow_command_id</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">)</span>
</span></code></pre></div>
<p>We create a RobotCommand with the <code>arm_ready_command()</code> called <strong>unstow</strong>.</p>
<p>Notice that we also create a variable called <code>unstow_command_id</code> when running robot_command(). Not only does this execute the RobotCommand, it also assigns <code>unstow_command_id</code> to the the ID value of the robot_command. We can use the ID value to track the progress of the robot_command in question.</p>
<p>This is shown in the third line where we use a <code>block_until_arm_arrives</code> function to <strong>block (or stop)</strong> all other functions <strong>until</strong> the <code>unstow</code> RobotCommand is FULLY complete. This prevents any other actions from interfering with the movement of the arm. It is important to consider blocking when you have more complex code that requires the management of multiple parts of Spot.</p>
<p>The "3.0" in the <code>block_until_arm_arrives</code> refers the maximum amount of time that the code will block for. This means that if more than 3 seconds has passed AND the arm has NOT finished its movement, the code will move on from the unstow movement anyways. This prevents a deadlock situation where Spot is stuck on one movement forever.</p>
<h2 id="arm-manipulation-controlling-the-joints">Arm  Manipulation - Controlling the Joints</h2>
<p>The first method of controlling the arm is to control the individual values of the 6 joints on the arm. Because each joint can be thought of as a circular range where the motor can spin to, we can control each joint with <code>radians</code>. </p>
<figure>
    <img _=";" alt="arm-joints" loading="lazy" src="../../media/arm-joints.png" width="400" />
    <figcaption>A diagram of the joints on Spot. Note that even though there are only 3 locations shown, there are actually <strong>6</strong> different joints. At each location (marked with a red box), there are actually TWO joints - One joint for rotating CW/CCW and another for rotating up/down.</figcaption>
</figure>
<div class="language-py highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">def</span> <span class="nf">make_robot_command</span><span class="p">(</span><span class="n">arm_joint_traj</span><span class="p">)</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>    <span class="c1"># convert joint points to an actual movement command to send to Spot</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>    <span class="n">joint_move_command</span> <span class="o">=</span> <span class="n">arm_command_pb2</span><span class="o">.</span><span class="n">ArmJointMoveCommand</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span><span class="n">trajectory</span><span class="o">=</span><span class="n">arm_joint_traj</span><span class="p">)</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>    <span class="c1"># create an ArmCommand object with our movement command</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>    <span class="n">arm_command</span> <span class="o">=</span> <span class="n">arm_command_pb2</span><span class="o">.</span><span class="n">ArmCommand</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span><span class="n">arm_joint_move_command</span><span class="o">=</span><span class="n">joint_move_command</span><span class="p">)</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>    <span class="c1"># make sure our arm movement is synchronized (like all of our other movements) </span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>    <span class="n">sync_arm</span> <span class="o">=</span> <span class="n">synchronized_command_pb2</span><span class="o">.</span><span class="n">SynchronizedCommand</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span><span class="n">arm_command</span><span class="o">=</span><span class="n">arm_command</span><span class="p">)</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>    <span class="c1"># convert to a general RobotCommand</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>    <span class="n">arm_sync_robot_cmd</span> <span class="o">=</span> <span class="n">robot_command_pb2</span><span class="o">.</span><span class="n">RobotCommand</span><span class="p">(</span><span class="n">synchronized_command</span><span class="o">=</span><span class="n">sync_arm</span><span class="p">)</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>    <span class="c1"># build the final command</span>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>    <span class="k">return</span> <span class="n">RobotCommandBuilder</span><span class="o">.</span><span class="n">build_synchro_command</span><span class="p">(</span><span class="n">arm_sync_robot_cmd</span><span class="p">)</span>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a>    <span class="c1"># get inputs</span>
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a>    <span class="n">sh0</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;sh☺ &gt;&gt; &quot;</span><span class="p">))</span> <span class="n">sh1</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;sh1 &gt;&gt; &quot;</span><span class="p">))</span>
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a>    <span class="n">elo</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;elo &gt;&gt; &quot;</span><span class="p">))</span>
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a>    <span class="n">el1</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;el1 &gt;&gt; &quot;</span><span class="p">))</span>
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a>    <span class="n">wro</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;wr☺ &gt;&gt; &quot;</span><span class="p">))</span>
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a>    <span class="n">wr1</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;wr1 &gt;&gt; &quot;</span><span class="p">))</span>
</span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a>    <span class="n">mv</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;max velocity &gt;&gt; &quot;</span><span class="p">))</span>
</span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a>    <span class="n">ma</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;max acceleration &gt;&gt; &quot;</span><span class="p">))</span>
</span><span id="__span-1-26"><a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a>
</span><span id="__span-1-27"><a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a>    <span class="c1"># convert mv/ma inputs into a specific DoubleValue type that Spot can understand </span>
</span><span id="__span-1-28"><a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a>    <span class="n">max_vel</span> <span class="o">=</span> <span class="n">wrappers_pb2</span><span class="o">.</span> <span class="n">DoubleValue</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">mv</span><span class="p">)</span>
</span><span id="__span-1-29"><a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a>    <span class="n">max_acc</span> <span class="o">=</span> <span class="n">wrappers_pb2</span><span class="o">.</span><span class="n">DoubleValue</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">ma</span><span class="p">)</span>
</span><span id="__span-1-30"><a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a>
</span><span id="__span-1-31"><a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a>    <span class="c1"># convert to a specific movement trajectory and a specific point in 3D space </span>
</span><span id="__span-1-32"><a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a>    <span class="n">traj_point</span> <span class="o">=</span> <span class="n">RobotCommandBuilder</span><span class="o">.</span><span class="n">create_arm_joint_trajectory_point</span><span class="p">(</span><span class="n">sho</span><span class="p">,</span> <span class="n">sh1</span><span class="p">,</span> <span class="n">elo</span><span class="p">,</span> <span class="n">el1</span><span class="p">,</span> <span class="n">wro</span><span class="p">,</span> <span class="n">wr1</span><span class="p">)</span>
</span><span id="__span-1-33"><a id="__codelineno-1-33" name="__codelineno-1-33" href="#__codelineno-1-33"></a>
</span><span id="__span-1-34"><a id="__codelineno-1-34" name="__codelineno-1-34" href="#__codelineno-1-34"></a>    <span class="c1"># set up the trajectory, set maximum velocity and acceleration </span>
</span><span id="__span-1-35"><a id="__codelineno-1-35" name="__codelineno-1-35" href="#__codelineno-1-35"></a>    <span class="n">arm_joint_traj</span> <span class="o">=</span> <span class="n">arm_command_pb2</span><span class="o">.</span><span class="n">ArmJointTrajectory</span><span class="p">(</span><span class="n">points</span><span class="o">=</span><span class="p">[</span><span class="n">traj_point</span><span class="p">],</span> <span class="n">maximum</span> <span class="n">velocity</span><span class="o">=</span><span class="n">max_vel</span><span class="p">,</span> <span class="n">maximum_acceleration</span><span class="o">=</span><span class="n">max_acc</span><span class="p">)</span>
</span><span id="__span-1-36"><a id="__codelineno-1-36" name="__codelineno-1-36" href="#__codelineno-1-36"></a>
</span><span id="__span-1-37"><a id="__codelineno-1-37" name="__codelineno-1-37" href="#__codelineno-1-37"></a>    <span class="n">command</span> <span class="o">=</span> <span class="n">make_robot_command</span><span class="p">(</span><span class="n">arm_joint_traj</span><span class="p">)</span> <span class="c1"># build the ArmCommand </span>
</span><span id="__span-1-38"><a id="__codelineno-1-38" name="__codelineno-1-38" href="#__codelineno-1-38"></a>    <span class="n">cmd_id</span> <span class="o">=</span> <span class="n">command_client</span><span class="o">.</span><span class="n">robot_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span> <span class="c1"># execute ArmCommand </span>
</span><span id="__span-1-39"><a id="__codelineno-1-39" name="__codelineno-1-39" href="#__codelineno-1-39"></a>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
</span></code></pre></div>
<p>The code above is a mouthful, so let's go over it in detail.</p>
<p>We need to write a helper function first called <code>make_robot_command</code>, which will centralize all of the necessary commands needed to set up a joint movement. We will use the <code>make_robot_command</code> function every time we want to make a new movement. The <code>make_robot_command</code> function will convert a simple set of points into a single movement through 3D space.</p>
<p>We can then  run our inputs in an infinite loop so that Spot will constantly be updating  its position to the newest input.</p>
<p>We can then get inputs for each joint movement. The guide below will explain what each input variable means:</p>
<p>"sh-" = movement of shoulder joint</p>
<p>"el-" = movement of elbow joint</p>
<p>"wr-" = movement of wrist joint</p>
<p>sh0 = shoulder left/right</p>
<p>sh1 = shoulder up/down</p>
<p>el0 = elbow up/downn</p>
<p>el1 = elbow rotation clockwise (CW) or counterclockwise (CCW)</p>
<p>wr0 = wrist up/down</p>
<p>wr1 = wrist CW/CCW</p>
<p>Remember, the input values are  in radians. Feel free to add in code to convert between radians and degrees if you feel more comfortable inputting degrees instead.</p>
<h2 id="claw-opening-and-closing">Claw - Opening and closing</h2>
<p>Basic code for opening and closing the claw. We've seen the RobotCommand +  command_client.robot_command usage many times before in movement, so this should be pretty  understandable. We create RobotCommands for both  the opening and closing of the claw and execute the RobotCommand just to open the claw. If you want to close the claw, change the <code>robot_command(open_claw)</code> to <code>robot_command(close_claw)</code>.</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">open_claw</span> <span class="o">=</span> <span class="n">RobotCommandBuilder</span><span class="o">.</span><span class="n">claw_gripper_open_command</span><span class="p">()</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="n">close_claw</span> <span class="o">=</span> <span class="n">RobotCommandBuilder</span><span class="o">.</span><span class="n">claw_gripper_close_command</span><span class="p">()</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="n">open_id</span> <span class="o">=</span> <span class="n">command_client</span><span class="o">.</span><span class="n">robot_command</span><span class="p">(</span><span class="n">open_claw</span><span class="p">)</span>
</span></code></pre></div>
<h2 id="claw-types-of-grasping">Claw - Types of grasping</h2>
<p>There are different ways Spot can pick up an object:</p>
<ol>
<li>
<p>Top-down: Spot will try to grab with the claw perpendicular to the ground (grab the object by the top)</p>
</li>
<li>
<p>Horizontal: Spot will try to grab with the claw parallel to the ground (grab the object by the side)</p>
</li>
<li>
<p>45-Angle: Spot will try to approach the object at a 45 degree angle</p>
</li>
<li>
<p>Force Squeeze: Spot will disregard any approach angle and just close the  claw at the exact point that the user set.</p>
</li>
</ol>
<h2 id="picking-objects-up">Picking objects up</h2>
<p>In this section, you will learn how to pick and object up with built-in commands and functions from the Spot SDK. Go your <code>./spot-sdk/python/examples/arm_grasp</code> folder. Take a look at the <code>arm_grasp.py</code> file. This file will do a few things</p>
<ol>
<li>
<p>Get a stationary image from Spot's front left camera</p>
</li>
<li>
<p>Open a GUI window to allow you to manually click on the object you want Spot to pick up</p>
</li>
<li>
<p>Spot will automatically detect the object and pick it up.</p>
</li>
</ol>
<p>This code is relatively complex, so we will just look at the arm movement for  now (and ignore the camera/image processing).</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># find the object that the user selected so that Spot will know where to grasp </span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="n">grasp</span> <span class="o">=</span> <span class="n">manipulation_api_pb2</span><span class="o">.</span><span class="n">PickObjectInImage</span><span class="p">(</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>    <span class="n">pixel_xy</span><span class="o">=</span><span class="n">pick_vec</span><span class="p">,</span> 
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>    <span class="n">transforms_snapshot_for_camera</span><span class="o">=</span><span class="n">image</span><span class="o">.</span><span class="n">shot</span><span class="o">.</span><span class="n">transforms_snapshot</span><span class="p">,</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>    <span class="n">frame_name_image_sensor</span><span class="o">=</span><span class="n">image</span><span class="o">.</span><span class="n">shot</span><span class="o">.</span><span class="n">frame_name_image_sensor</span><span class="p">,</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>    <span class="n">camera_model</span><span class="o">=</span><span class="n">image</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">pinhole</span><span class="p">)</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="c1"># set a type of grasping (see above)</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="n">add_grasp_constraint</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">grasp</span><span class="p">,</span> <span class="n">robot_state_client</span><span class="p">)</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="c1"># use the ManipulationApiRequest to request Spot to run the pickup command </span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="n">grasp_request</span> <span class="o">=</span> <span class="n">manipulation_api_pb2</span><span class="o">.</span><span class="n">ManipulationApiRequest</span><span class="p">(</span><span class="n">pick_object_in_image</span><span class="o">=</span><span class="n">grasp</span><span class="p">)</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="c1"># send the request</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="n">cmd_response</span> <span class="o">=</span> <span class="n">manipulation_api_client</span><span class="o">.</span><span class="n">manipulation_api_command</span><span class="p">(</span>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>    <span class="n">manipulation_api_request</span><span class="o">=</span><span class="n">grasp_request</span><span class="p">)</span>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="c1"># get feedback from Spot (whether or not the grasp succeeded)</span>
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="k">while</span> <span class="kc">True</span><span class="p">:</span> <span class="c1"># have this in a loop so that Spot will continuously try to grasp the object </span>
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>    <span class="n">feedback_request</span> <span class="o">=</span> <span class="n">manipulation_api_pb2</span><span class="o">.</span> <span class="n">ManipulationApiFeedbackRequest</span><span class="p">(</span> <span class="n">manipulation_cmd_id</span><span class="o">=</span><span class="n">cmd_response</span><span class="o">.</span><span class="n">manipulation_cmd_id</span><span class="p">)</span>
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>    <span class="c1"># send the request</span>
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>    <span class="n">response</span> <span class="o">=</span> <span class="n">manipulation_api_client</span><span class="o">.</span><span class="n">manipulation_api_feedback_command</span><span class="p">(</span>
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a>        <span class="n">manipulation_api_feedback_request</span><span class="o">=</span><span class="n">feedback_request</span><span class="p">)</span>
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a>    <span class="nb">print</span><span class="p">(</span>
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a>        <span class="sa">f</span><span class="s1">&#39;Current state: </span><span class="si">{</span><span class="n">manipulation_api_pb2</span><span class="o">.</span><span class="w"> </span><span class="n">ManipulationFeedbackState</span><span class="o">.</span><span class="n">Name</span><span class="w"> </span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">current_state</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a>
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a>    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">current_state</span> <span class="o">==</span> <span class="n">manipulation_api_pb2</span><span class="o">.</span><span class="n">MANIP_STATE_GRASP_SUCCEEDED</span> <span class="ow">or</span> <span class="n">response</span><span class="o">.</span><span class="n">current_state</span> <span class="o">==</span> <span class="n">manipulation_api_pb2</span><span class="o">.</span><span class="n">MANIP_STATE_GRASP_FAILED</span><span class="p">:</span>
</span><span id="__span-3-29"><a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a>        <span class="k">break</span>
</span><span id="__span-3-30"><a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a>
</span><span id="__span-3-31"><a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span>
</span></code></pre></div>
<h2 id="project-throwing-an-object">Project - Throwing an object</h2>
<p>Because the pickup sequence is already pre-written, just edit the arm_grasp.py file. You should edit right below the line that says robot.logger.info('Finished grasp.')</p>
<p>Our throwing sequence should look like this:</p>
<ol>
<li>
<p>Begin moving the arm from the ground --&gt; to the sky (underhand toss)</p>
</li>
<li>
<p>As the arm is moving up, open the claw while continuing the arm movement (this requires a tool called "async",  we will learn about that)</p>
</li>
</ol>
<h2 id="what-is-async">What is async?</h2>
<p>Asynchronous (async) programming allows you to write concurrent code that can efficiently handle multiple tasks without blocking the execution of the program. This is particularly useful for tasks that involve multitasking (doing two actions at the same time). We need to asynchronously open the claw WHILE the arm is still moving upwards to carry the momentum of the arm into the throw.</p>
<p>Now, let's take a look at the code:</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">robot</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Finished grasp.&#39;</span><span class="p">)</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="c1"># throwing code starts below:</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="c1"># set up joint movements</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="n">sh0</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="n">sh1</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.6</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="n">elo</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.5</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="n">el1</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="n">wr0</span><span class="o">=</span> <span class="o">-</span><span class="mf">0.3</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="n">wr1</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="n">max_vel</span> <span class="o">=</span> <span class="n">wrappers_pb2</span><span class="o">.</span><span class="n">DoubleValue</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="n">max_acc</span> <span class="o">=</span> <span class="n">wrappers_pb2</span><span class="o">.</span> <span class="n">DoubleValue</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="n">traj_point</span> <span class="o">=</span> <span class="n">RobotCommandBuilder</span><span class="o">.</span><span class="n">create_arm_joint_trajectory_point</span><span class="p">(</span><span class="n">sh0</span><span class="p">,</span> <span class="n">sh1</span><span class="p">,</span> <span class="n">elo</span><span class="p">,</span> <span class="n">el1</span><span class="p">,</span> <span class="n">wro</span><span class="p">,</span> <span class="n">wr1</span><span class="p">)</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="n">arm_joint_traj</span> <span class="o">=</span> <span class="n">arm_command_pb2</span><span class="o">.</span><span class="n">ArmJointTrajectory</span><span class="p">(</span>
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>    <span class="n">points</span><span class="o">=</span><span class="p">[</span><span class="n">traj_point</span><span class="p">],</span>
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a>    <span class="n">maximum_velocity</span><span class="o">=</span><span class="n">max_vel</span><span class="p">,</span> 
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a>    <span class="n">maximum_acceleration</span><span class="o">=</span><span class="n">max_acc</span>
</span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a><span class="p">)</span>
</span><span id="__span-4-21"><a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a>
</span><span id="__span-4-22"><a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a><span class="c1"># Make a RobotCommand</span>
</span><span id="__span-4-23"><a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a><span class="n">command</span> <span class="o">=</span> <span class="n">make_robot_command</span><span class="p">(</span><span class="n">arm_joint_traj</span><span class="p">)</span>
</span><span id="__span-4-24"><a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a><span class="nb">open</span> <span class="o">=</span> <span class="n">RobotCommandBuilder</span><span class="o">.</span><span class="n">claw_gripper_open_command</span><span class="p">()</span>
</span><span id="__span-4-25"><a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a><span class="c1"># Send the request</span>
</span><span id="__span-4-26"><a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a><span class="n">cmd_id</span> <span class="o">=</span> <span class="n">command_client</span><span class="o">.</span><span class="n">robot_command_async</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</span><span id="__span-4-27"><a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a>
</span><span id="__span-4-28"><a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a><span class="c1"># set the start time at which the arm starts moving upwards </span>
</span><span id="__span-4-29"><a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a><span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span><span id="__span-4-30"><a id="__codelineno-4-30" name="__codelineno-4-30" href="#__codelineno-4-30"></a><span class="n">end_time</span> <span class="o">=</span> <span class="n">start_time</span> <span class="o">+</span> <span class="mf">2.0</span> <span class="c1"># set arbitrary end time</span>
</span><span id="__span-4-31"><a id="__codelineno-4-31" name="__codelineno-4-31" href="#__codelineno-4-31"></a><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># create tick counter</span>
</span><span id="__span-4-32"><a id="__codelineno-4-32" name="__codelineno-4-32" href="#__codelineno-4-32"></a>
</span><span id="__span-4-33"><a id="__codelineno-4-33" name="__codelineno-4-33" href="#__codelineno-4-33"></a><span class="k">while</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">end_time</span><span class="p">:</span> <span class="c1"># while the current time is less than the end time</span>
</span><span id="__span-4-34"><a id="__codelineno-4-34" name="__codelineno-4-34" href="#__codelineno-4-34"></a>    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span> <span class="c1"># if the current tick hits 3 (which is 0.15 seconds after arm starts moving up) </span>
</span><span id="__span-4-35"><a id="__codelineno-4-35" name="__codelineno-4-35" href="#__codelineno-4-35"></a>        <span class="n">o_i</span> <span class="o">=</span> <span class="n">command_client</span><span class="o">.</span><span class="n">robot_command_async</span><span class="p">(</span><span class="nb">open</span><span class="p">)</span> <span class="c1"># open claw asynchronously</span>
</span><span id="__span-4-36"><a id="__codelineno-4-36" name="__codelineno-4-36" href="#__codelineno-4-36"></a>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span> <span class="c1"># every &quot;tick&quot; is 0.05 seconds</span>
</span><span id="__span-4-37"><a id="__codelineno-4-37" name="__codelineno-4-37" href="#__codelineno-4-37"></a>    <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span> <span class="c1"># increase tick counter</span>
</span><span id="__span-4-38"><a id="__codelineno-4-38" name="__codelineno-4-38" href="#__codelineno-4-38"></a>
</span><span id="__span-4-39"><a id="__codelineno-4-39" name="__codelineno-4-39" href="#__codelineno-4-39"></a><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></code></pre></div>
<p>We define a "tick" as 0.05 seconds. Each tick, we check if we have reached the correct time to release the claw. We should release the claw at 0.15 seconds after the arm first begins moving up.</p>
<p>We  can use the <code>robot_command_async</code> instead of <code>robot_command</code> to set up an asynchronous command (one that can run in parallel with another command).</p>
<h2 id="exercise-follow-fiducial-and-throw-object">Exercise: Follow fiducial AND throw object</h2>
<p>Try to combine the fiducial_follow and arm_grasp/throw functions into one. Your code should do the following:</p>
<ol>
<li>
<p>Spot picks up object</p>
</li>
<li>
<p>Spot sees human in the room holding a fiducial</p>
</li>
<li>
<p>Spot turns and moves towards human while carrying object</p>
</li>
<li>
<p>Spot stops in front of human and tosses object at human</p>
</li>
</ol>
<iframe width="560" height="315" src="https://www.youtube.com/embed/e2GBr1BjJxQ?si=r_pRplkBjLp9homz" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../spot-vision/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Spot Vision">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Spot Vision
              </div>
            </div>
          </a>
        
        
          
          <a href="../../open-payload/open-payload/" class="md-footer__link md-footer__link--next" aria-label="Next: OpenPayload">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                OpenPayload
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      © 2024 <a href="https://mhs.millburn.org/"  target="_blank" rel="noopener">Millburn Robotics</a>. Special thanks to Boston Dynamics.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.footer", "navigation.tabs", "navigation.instant", "navigation.instant.progress", "content.code.copy", "content.code.select", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.471ce7a9.min.js"></script>
      
    
  </body>
</html>